#!/usr/bin/env python
# -*-Mode: python;-*-

# $Id$

import io

import pandas
import numpy
import math
import matplotlib.pyplot as pyplt
import seaborn

def makeDataFrames(data_nameL, data_stringL, scale = None):
    dfrm_hist = pandas.DataFrame()
    dfrm_wide = pandas.DataFrame()

    idx = 0
    for data_str in data_stringL:
        #---------------------------------------
        # Create histogram
        #---------------------------------------
        data_nm = data_nameL[idx]
        
        str_data = io.StringIO(data_str)
        dfrm_hist_x = pandas.read_csv(str_data, sep='\s+', index_col=0)
        
        dfrm_hist_x.columns = [data_nm]
        #print(dfrm_hist_x)

        if (scale):
            dfrm_hist_x = dfrm_hist_x.applymap(lambda x: x / scale)

        #---------------------------------------
        # Convert the histogram to Seaborn 'wide form'
        #---------------------------------------
        #   https://stackoverflow.com/questions/62709719/violinplot-from-histogram-values
        #   https://anvil.works/blog/tidy-data
        #   https://sejdemyr.github.io/r-tutorials/basics/wide-and-long/

        hist_bin  = dfrm_hist_x.index
        hist_freq = dfrm_hist_x.iloc[:, 0]

        hist_smpl = numpy.random.uniform(numpy.repeat(hist_bin, hist_freq),
                                         numpy.repeat(hist_bin, hist_freq))

        dfrm_wide_x = pandas.DataFrame(hist_smpl, columns = [data_nm])
        #print(dfrm_wide_x)

        #---------------------------------------
        # Merge into final result
        #---------------------------------------
        idx += 1

        if (dfrm_hist.empty):
            dfrm_hist = dfrm_hist_x
            dfrm_wide = dfrm_wide_x
        else:
            dfrm_hist = pandas.concat([dfrm_hist, dfrm_hist_x], axis=1)
            dfrm_wide = pandas.concat([dfrm_wide, dfrm_wide_x], axis=1)
            #dfrm.join(dfrm_hist_x, on='dram_bw')

    dfrm_hist.reset_index(inplace=True)

    return (dfrm_hist, dfrm_wide)



#****************************************************************************
# Grappolo, Single phase, 192 threads
#****************************************************************************


#----------------------------------------------------------------------------
# Run time
#----------------------------------------------------------------------------

runtime_str = """
graph            dram      pmem   kmem
orkut          19.486    19.201   0
friendster   1081.808   878.044   739.163
moliere201   1054.310  1059.695   0
"""

runtime_data = io.StringIO(runtime_str)
dfrm = pandas.read_csv(runtime_data, sep='\s+', index_col=0)
print(dfrm)

# dfrm = pandas.DataFrame(data = timeL_med, index = timeL_ty)


#----------------------------------------------------------------------------
# friendster DRAM bandwidth (GB/sec)
#----------------------------------------------------------------------------

dramBw_dram_str = """
  dram_bw time
  0	81.76752655810002
  10	107.71000000000002
  20	47.09
  30	94.27000000000002
  40	699.2400000000001
  50	8.36
  60	15.919999999999993
  70	13.090000000000002
  80	2.9099999999999997
  90	1.640000000000001
  100	1.9300000000000013
  110	1.350000000000001
  120	1.2400000000000009
  130	1.1400000000000006
  140	1.0600000000000005
  150	0.8600000000000004
  160	0.5800000000000002
  170	0.3800000000000002
  180	0.3200000000000001
  190	0.27
  200	0.07
  210	0.03
  220	0.01
  230	0.01
  240	0
  250	0.01
  260	0
  270	0.05
  280	0.07
  290	0.01
  300	0.01
  310	0
  320	0
  330	0
  340	0.01
  350	0.02
  360	0.07
  370	0.31000000000000005
  380	0
  390	0
  400	0
  410	0
  420	0
  430	0
  440	0
  450	0
"""

dramBw_pmem_str = """
  dram_bw time
  0	188.37429006909997
  10	79.14
  20	77.32
  30	34.379999999999995
  40	14.96
  50	42.56
  60	51.85
  70	222.13000000000005
  80	155.11000000000007
  90	3.269999999999998
  100	1.330000000000001
  110	1.0300000000000007
  120	0.7400000000000004
  130	0.8800000000000006
  140	0.8500000000000004
  150	0.7300000000000004
  160	0.7800000000000004
  170	0.6300000000000003
  180	0.5200000000000002
  190	0.5000000000000002
  200	0.31000000000000005
  210	0.20000000000000007
  220	0.13
  230	0.09999999999999999
  240	0.13
  250	0.07
  260	0.01
  270	0
  280	0.01
  290	0
  300	0
  310	0
  320	0
  330	0
  340	0
  350	0
  360	0
  370	0
  380	0
  390	0
  400	0
  410	0
  420	0
  430	0
  440	0
  450	0
"""

dramBw_kmem_str = """
  dram_bw time
  0	62.142981342099986
  10	76.75000000000001
  20	73.94999999999999
  30	29.88
  40	16.67
  50	38.45000000000002
  60	69.14000000000001
  70	207.36999999999998
  80	154.28000000000003
  90	0.9600000000000005
  100	0.9500000000000005
  110	0.7700000000000002
  120	0.38000000000000017
  130	0.6200000000000003
  140	0.6500000000000004
  150	0.6300000000000003
  160	0.5200000000000002
  170	0.3900000000000001
  180	0.4900000000000002
  190	0.6600000000000004
  200	0.7500000000000003
  210	0.6500000000000004
  220	0.5800000000000003
  230	0.5800000000000003
  240	0.40000000000000013
  250	0.2700000000000001
  260	0.10999999999999999
  270	0.12
  280	0.05
  290	0
  300	0
  310	0
  320	0
  330	0
  340	0
  350	0
  360	0
  370	0
  380	0
  390	0
  400	0
  410	0
  420	0
  430	0
  440	0
  450	0
"""

#----------------------------------------------------------------------------
# friendster Load Latency (cycles)
#----------------------------------------------------------------------------

latency_dram_str = """
    latency	loads
    6	32570268150
    7	393529223360
    8	36692404420
    9	19164747700
    11	63719110
    12	3102630510
    13	1230268970
    14	1906671830
    15	4278983310
    16	7357106470
    17	1333199840
    18	754826380
    19	455836710
    20	696008740
    21	416624950
    22	499949940
    23	857757250
    24	779333730
    25	607782280
    26	294088200
    27	210763210
    28	259777910
    29	181354390
    30	132339690
    31	147044100
    32	127438220
    33	107832340
    34	68620580
    35	83324990
    36	39211760
    37	68620580
    38	63719110
    39	39211760
    40	29408820
    41	68620580
    42	49014700
    43	63719110
    44	24507350
    45	58817640
    46	14704410
    47	24507350
    48	39211760
    49	24507350
    50	53916170
    51	58817640
    52	24507350
    53	29408820
    54	39211760
    55	29408820
    56	24507350
    57	14704410
    58	34310290
    59	49014700
    60	34310290
    61	24507350
    62	39211760
    63	19605880
    64	39211760
    65	44113230
    66	34310290
    67	34310290
    68	53916170
    69	49014700
    70	39211760
    71	49014700
    72	29408820
    73	49014700
    74	39211760
    75	24507350
    76	29408820
    77	49014700
    78	19605880
    79	19605880
    80	34310290
    81	73522050
    82	34310290
    83	19605880
    84	24507350
    85	39211760
    86	44113230
    87	29408820
    88	14704410
    89	44113230
    90	49014700
    91	49014700
    92	24507350
    93	39211760
    94	24507350
    95	39211760
    96	39211760
    97	24507350
    98	44113230
    99	34310290
    100	19605880
    101	68620580
    102	19605880
    103	39211760
    104	14704410
    105	14704410
    106	58817640
    107	14704410
    108	19605880
    109	4901470
    110	34310290
    111	39211760
    112	53916170
    113	14704410
    114	29408820
    115	9802940
    116	39211760
    117	19605880
    118	19605880
    119	19605880
    120	14704410
    121	24507350
    122	19605880
    123	29408820
    124	9802940
    125	14704410
    126	14704410
    127	9802940
    128	9802940
    129	19605880
    130	9802940
    131	14704410
    132	19605880
    133	9802940
    134	9802940
    135	34310290
    136	9802940
    137	9802940
    138	9802940
    139	4901470
    140	19605880
    141	19605880
    142	9802940
    143	9802940
    145	4901470
    146	4901470
    147	4901470
    148	9802940
    149	4901470
    150	9802940
    151	14704410
    152	19605880
    155	9802940
    156	4901470
    158	4901470
    159	9802940
    161	4901470
    162	4901470
    163	9802940
    164	9802940
    165	9802940
    167	14704410
    168	4901470
    169	4901470
    170	14704410
    171	4901470
    172	9802940
    173	4901470
    174	4901470
    175	4901470
    178	4901470
    180	4901470
    181	9802940
    183	4901470
    184	14704410
    185	9802940
    188	4901470
    189	4901470
    190	4901470
    191	4901470
    192	4901470
    195	4901470
    198	9802940
    199	9802940
    205	4901470
    207	4901470
    209	4901470
    210	4901470
    212	4901470
    213	4901470
    214	4901470
    217	4901470
    218	4901470
    219	19605880
    223	9802940
    225	14704410
    227	4901470
    230	4901470
    232	9802940
    234	19605880
    235	24507350
    236	4901470
    237	19605880
    238	4901470
    239	4901470
    240	4901470
    241	19605880
    242	14704410
    243	9802940
    244	19605880
    245	9802940
    246	9802940
    247	9802940
    248	9802940
    249	4901470
    251	9802940
    252	14704410
    253	4901470
    254	4901470
    255	9802940
    256	9802940
    257	9802940
    258	4901470
    260	4901470
    261	9802940
    262	19605880
    263	9802940
    264	9802940
    265	19605880
    266	4901470
    268	14704410
    269	29408820
    270	4901470
    272	19605880
    273	19605880
    274	9802940
    275	29408820
    276	9802940
    278	19605880
    279	19605880
    280	4901470
    281	14704410
    282	24507350
    283	29408820
    284	39211760
    285	4901470
    286	14704410
    287	14704410
    288	14704410
    289	24507350
    290	9802940
    291	4901470
    292	24507350
    293	4901470
    294	14704410
    295	24507350
    296	19605880
    297	29408820
    298	9802940
    300	4901470
    301	4901470
    302	19605880
    303	14704410
    304	19605880
    305	14704410
    307	9802940
    308	4901470
    309	4901470
    310	4901470
    311	9802940
    312	14704410
    313	14704410
    314	14704410
    315	4901470
    317	14704410
    318	4901470
    320	14704410
    322	4901470
    325	4901470
    326	9802940
    330	4901470
    331	4901470
    332	9802940
    333	19605880
    334	9802940
    335	4901470
    336	9802940
    337	4901470
    338	19605880
    339	4901470
    340	9802940
    342	9802940
    343	14704410
    345	4901470
    346	4901470
    347	4901470
    348	4901470
    352	14704410
    353	4901470
    355	4901470
    356	14704410
    357	9802940
    358	4901470
    362	4901470
    364	4901470
    365	9802940
    366	14704410
    367	9802940
    369	9802940
    371	9802940
    374	4901470
    375	4901470
    376	4901470
    378	4901470
    379	4901470
    381	9802940
    383	4901470
    384	9802940
    386	9802940
    390	4901470
    391	9802940
    392	4901470
    393	4901470
    394	9802940
    396	4901470
    397	4901470
    398	4901470
    399	9802940
    401	9802940
    402	9802940
    403	9802940
    405	9802940
    407	14704410
    408	9802940
    409	9802940
    411	19605880
    412	19605880
    413	9802940
    415	4901470
    416	24507350
    417	19605880
    418	14704410
    419	19605880
    420	9802940
    421	4901470
    422	9802940
    423	14704410
    424	24507350
    425	14704410
    426	14704410
    427	19605880
    428	19605880
    429	4901470
    430	14704410
    431	14704410
    432	24507350
    433	14704410
    434	39211760
    435	14704410
    436	9802940
    437	14704410
    438	29408820
    439	24507350
    440	14704410
    441	19605880
    442	9802940
    443	14704410
    444	24507350
    445	14704410
    446	19605880
    447	14704410
    448	19605880
    449	19605880
    450	29408820
    451	34310290
    452	29408820
    453	19605880
    454	24507350
    455	19605880
    456	34310290
    457	34310290
    458	29408820
    459	19605880
    460	39211760
    461	19605880
    462	24507350
    463	24507350
    464	14704410
    465	19605880
    466	24507350
    467	39211760
    468	19605880
    469	19605880
    470	24507350
    471	29408820
    472	34310290
    473	24507350
    474	29408820
    475	24507350
    476	24507350
    477	39211760
    478	14704410
    479	9802940
    480	29408820
    481	9802940
    482	19605880
    483	19605880
    484	24507350
    485	24507350
    486	24507350
    487	39211760
    488	29408820
    489	19605880
    490	29408820
    491	29408820
    492	14704410
    493	24507350
    494	14704410
    495	14704410
    496	24507350
    497	34310290
    499	14704410
    500	19605880
    501	19605880
    502	9802940
    503	14704410
    504	24507350
    505	24507350
    506	19605880
    507	14704410
    508	19605880
    509	24507350
    510	24507350
    511	4901470
    512	29408820
    513	14704410
    514	9802940
    515	19605880
    517	34310290
    518	9802940
    519	14704410
    520	9802940
    521	19605880
    522	24507350
    523	24507350
    524	14704410
    525	19605880
    526	9802940
    527	9802940
    528	9802940
    529	19605880
    530	9802940
    531	4901470
    532	44113230
    533	9802940
    534	29408820
    535	14704410
    536	14704410
    537	9802940
    538	9802940
    539	4901470
    540	9802940
    541	4901470
    542	9802940
    544	14704410
    545	4901470
    546	9802940
    547	14704410
    548	14704410
    549	9802940
    550	4901470
    552	9802940
    554	4901470
    555	9802940
    556	4901470
    557	4901470
    559	9802940
    560	9802940
    563	4901470
    564	9802940
    565	4901470
    566	4901470
    568	24507350
    569	9802940
    570	4901470
    571	4901470
    576	4901470
    577	4901470
    578	9802940
    580	9802940
    581	4901470
    582	4901470
    584	4901470
    586	4901470
    587	14704410
    588	4901470
    594	9802940
    595	9802940
    596	4901470
    597	19605880
    598	9802940
    600	9802940
    602	4901470
    604	4901470
    606	9802940
    607	4901470
    609	4901470
    610	9802940
    612	9802940
    613	19605880
    614	14704410
    615	4901470
    616	4901470
    618	4901470
    619	4901470
    621	9802940
    626	4901470
    627	4901470
    632	4901470
    633	4901470
    635	4901470
    638	4901470
    641	19605880
    643	4901470
    644	9802940
    645	4901470
    646	4901470
    649	14704410
    652	4901470
    653	19605880
    656	9802940
    657	4901470
    658	4901470
    659	4901470
    660	9802940
    661	4901470
    663	4901470
    667	4901470
    668	9802940
    669	4901470
    672	4901470
    673	4901470
    675	4901470
    678	4901470
    680	4901470
    681	9802940
    682	14704410
    684	4901470
    685	14704410
    686	4901470
    688	4901470
    689	4901470
    691	4901470
    692	4901470
    693	4901470
    697	4901470
    699	9802940
    704	4901470
    705	4901470
    706	4901470
    707	4901470
    710	4901470
    713	9802940
    715	4901470
    719	9802940
    720	4901470
    722	4901470
    724	4901470
    731	9802940
    738	4901470
    740	4901470
    748	4901470
    752	4901470
    754	4901470
    759	4901470
    762	14704410
    766	4901470
    769	9802940
    774	4901470
    775	4901470
    785	4901470
    789	14704410
    790	4901470
    793	9802940
    795	9802940
    796	4901470
    799	4901470
    803	4901470
    804	4901470
    808	4901470
    811	4901470
    814	4901470
    816	4901470
    821	4901470
    822	4901470
    824	4901470
    825	4901470
    827	4901470
    831	9802940
    839	4901470
    840	4901470
    845	9802940
    849	4901470
    853	4901470
    859	4901470
    860	4901470
    866	4901470
    867	4901470
    868	4901470
    869	4901470
    870	4901470
    872	4901470
    874	4901470
    875	4901470
    885	4901470
    889	4901470
    891	4901470
    892	4901470
    897	4901470
    898	4901470
    901	9802940
    906	4901470
    910	4901470
    915	9802940
    923	9802940
    925	9802940
    926	4901470
    927	4901470
    928	4901470
    931	9802940
    932	4901470
    933	9802940
    936	4901470
    938	4901470
    939	4901470
    943	4901470
    944	4901470
    946	9802940
    947	4901470
    950	9802940
    954	4901470
    955	9802940
    956	4901470
    957	9802940
    962	4901470
    963	4901470
    967	4901470
    970	9802940
    971	4901470
    973	4901470
    975	9802940
    976	9802940
    978	9802940
    979	4901470
    980	4901470
    981	4901470
    982	4901470
    983	9802940
    984	9802940
    986	14704410
    987	9802940
    988	9802940
    989	9802940
    990	4901470
    991	4901470
    992	4901470
    993	4901470
    994	4901470
    995	4901470
    996	4901470
    997	4901470
    1007	4901470
    1009	4901470
    1011	14704410
    1014	4901470
    1015	4901470
    1018	9802940
    1019	4901470
    1020	9802940
    1024	4901470
    1026	4901470
    1028	4901470
    1029	4901470
    1030	4901470
    1038	4901470
    1039	4901470
    1040	4901470
    1044	14704410
    1045	4901470
    1048	9802940
    1049	4901470
    1051	9802940
    1052	4901470
    1054	4901470
    1056	4901470
    1059	9802940
    1061	4901470
    1062	9802940
    1065	14704410
    1066	4901470
    1068	4901470
    1071	4901470
    1075	4901470
    1079	4901470
    1080	4901470
    1081	4901470
    1083	9802940
    1084	4901470
    1085	4901470
    1086	4901470
    1087	9802940
    1088	4901470
    1093	4901470
    1096	4901470
    1098	4901470
    1101	4901470
    1103	4901470
    1118	4901470
    1122	9802940
    1124	4901470
    1125	14704410
    1130	4901470
    1131	4901470
    1133	4901470
    1138	4901470
    1141	4901470
    1154	4901470
    1157	4901470
    1160	4901470
    1166	4901470
    1167	9802940
    1177	4901470
    1179	4901470
    1191	4901470
    1194	4901470
    1199	4901470
    1206	4901470
    1240	4901470
    1245	9802940
    1250	4901470
    1261	4901470
    1271	4901470
    1278	9802940
    1282	4901470
    1287	4901470
    1301	4901470
    1333	4901470
    1338	4901470
    1353	4901470
    1358	4901470
    1364	4901470
    1366	4901470
    1381	4901470
    1399	4901470
    1402	4901470
    1423	4901470
    1432	4901470
    1436	4901470
    1467	9802940
    1494	4901470
    1496	4901470
    1511	4901470
    1533	4901470
    1541	4901470
    1544	4901470
    1557	4901470
    1564	4901470
    1568	4901470
    1573	4901470
    1585	4901470
    1596	4901470
    1606	4901470
    1620	4901470
    1641	4901470
    1692	4901470
    1701	4901470
    1716	4901470
    1718	4901470
    1720	4901470
    1731	4901470
    1735	4901470
    1762	4901470
    1804	4901470
    1810	4901470
    1826	4901470
    1861	4901470
    1892	4901470
    1973	4901470
    1976	4901470
    2020	4901470
    2111	4901470
    2170	4901470
    2199	4901470
    2365	4901470
    2718	4901470
    3153	4901470
    3324	4901470
"""

latency_pmem_str = """
    Latency	Loads
    6	31879160880
    7	364812210840
    8	33526054800
    9	15258976320
    11	16805040
    12	2907271920
    13	646994040
    14	3638291160
    15	2092227480
    16	2109032520
    17	852855780
    18	575572620
    19	508352460
    20	340302060
    21	508352460
    22	294088200
    23	277283160
    24	176452920
    25	256276860
    26	138641580
    27	126037800
    28	159647880
    29	109232760
    30	130239060
    31	109232760
    32	151245360
    33	117635280
    34	88226460
    35	92427720
    36	96628980
    37	92427720
    38	151245360
    39	134440320
    40	58817640
    41	138641580
    42	163849140
    43	159647880
    44	105031500
    45	92427720
    46	63018900
    47	75622680
    48	54616380
    49	37811340
    50	54616380
    51	67220160
    52	46213860
    53	33610080
    54	33610080
    55	42012600
    56	37811340
    57	33610080
    58	25207560
    59	50415120
    60	50415120
    61	71421420
    62	46213860
    63	42012600
    64	58817640
    65	54616380
    66	63018900
    67	71421420
    68	109232760
    69	159647880
    70	210063000
    71	117635280
    72	109232760
    73	50415120
    74	50415120
    75	67220160
    76	37811340
    77	58817640
    78	29408820
    79	46213860
    80	58817640
    81	21006300
    82	25207560
    83	42012600
    84	29408820
    85	21006300
    86	33610080
    87	25207560
    88	21006300
    89	25207560
    90	21006300
    91	21006300
    92	16805040
    93	8402520
    94	16805040
    95	21006300
    96	12603780
    97	25207560
    98	33610080
    99	29408820
    100	25207560
    101	4201260
    102	21006300
    103	16805040
    104	21006300
    105	4201260
    106	8402520
    107	25207560
    108	12603780
    109	16805040
    110	25207560
    111	21006300
    112	25207560
    113	8402520
    114	12603780
    115	8402520
    116	16805040
    117	29408820
    118	8402520
    119	16805040
    120	8402520
    121	4201260
    122	16805040
    123	16805040
    124	16805040
    125	25207560
    126	12603780
    127	8402520
    128	12603780
    129	12603780
    130	4201260
    131	16805040
    132	16805040
    133	16805040
    134	25207560
    135	16805040
    136	8402520
    137	8402520
    138	21006300
    139	8402520
    140	12603780
    142	4201260
    143	21006300
    144	21006300
    145	12603780
    146	21006300
    147	12603780
    148	16805040
    149	16805040
    150	8402520
    151	16805040
    152	25207560
    153	4201260
    154	12603780
    155	16805040
    156	21006300
    157	12603780
    158	21006300
    159	4201260
    161	16805040
    162	16805040
    163	4201260
    164	8402520
    165	12603780
    166	21006300
    167	12603780
    168	21006300
    169	4201260
    170	25207560
    171	21006300
    172	12603780
    173	12603780
    174	21006300
    175	21006300
    176	16805040
    177	16805040
    178	21006300
    179	33610080
    180	29408820
    181	16805040
    182	25207560
    183	4201260
    184	21006300
    185	16805040
    186	21006300
    187	8402520
    188	25207560
    189	16805040
    190	16805040
    191	8402520
    192	21006300
    193	16805040
    194	16805040
    195	12603780
    196	8402520
    197	12603780
    198	16805040
    199	12603780
    200	8402520
    201	4201260
    202	21006300
    203	16805040
    204	21006300
    205	21006300
    206	25207560
    207	4201260
    208	21006300
    209	12603780
    210	4201260
    211	12603780
    212	25207560
    213	12603780
    214	4201260
    215	4201260
    216	12603780
    217	8402520
    218	16805040
    219	8402520
    220	21006300
    221	4201260
    222	4201260
    223	4201260
    224	4201260
    225	16805040
    226	4201260
    227	4201260
    228	8402520
    229	12603780
    230	8402520
    231	8402520
    232	4201260
    233	12603780
    234	25207560
    235	16805040
    237	8402520
    238	16805040
    239	4201260
    240	29408820
    241	4201260
    242	16805040
    244	16805040
    245	8402520
    246	21006300
    247	12603780
    248	4201260
    249	16805040
    250	25207560
    251	16805040
    252	25207560
    253	21006300
    254	21006300
    255	16805040
    256	21006300
    257	21006300
    258	4201260
    259	25207560
    260	12603780
    261	16805040
    262	16805040
    263	21006300
    264	33610080
    265	29408820
    266	8402520
    267	25207560
    268	16805040
    269	21006300
    270	16805040
    271	8402520
    272	16805040
    273	8402520
    274	12603780
    275	21006300
    276	12603780
    277	12603780
    278	16805040
    279	16805040
    280	25207560
    281	8402520
    282	29408820
    283	12603780
    284	16805040
    285	21006300
    286	16805040
    287	16805040
    288	29408820
    289	21006300
    290	25207560
    291	16805040
    292	16805040
    293	29408820
    294	12603780
    295	12603780
    296	25207560
    297	37811340
    298	21006300
    299	12603780
    300	12603780
    301	8402520
    302	4201260
    303	12603780
    304	16805040
    305	12603780
    306	8402520
    307	16805040
    308	12603780
    309	4201260
    310	12603780
    311	8402520
    312	8402520
    313	8402520
    314	12603780
    315	4201260
    316	4201260
    318	21006300
    319	16805040
    320	8402520
    321	4201260
    322	4201260
    324	4201260
    325	21006300
    327	12603780
    329	4201260
    330	4201260
    331	12603780
    332	4201260
    333	4201260
    334	8402520
    335	12603780
    337	8402520
    338	8402520
    339	4201260
    340	4201260
    342	4201260
    348	8402520
    350	8402520
    351	12603780
    352	8402520
    353	4201260
    354	4201260
    355	4201260
    359	4201260
    364	8402520
    365	4201260
    366	8402520
    367	4201260
    368	4201260
    370	4201260
    371	4201260
    372	12603780
    373	12603780
    374	4201260
    377	4201260
    378	4201260
    379	8402520
    380	4201260
    381	8402520
    382	8402520
    383	8402520
    384	8402520
    385	4201260
    386	8402520
    389	4201260
    390	12603780
    391	8402520
    392	8402520
    393	4201260
    394	4201260
    396	12603780
    400	12603780
    403	4201260
    405	8402520
    406	8402520
    407	4201260
    408	12603780
    410	4201260
    411	4201260
    413	8402520
    414	16805040
    415	4201260
    416	12603780
    417	16805040
    418	8402520
    419	4201260
    421	25207560
    422	12603780
    423	16805040
    424	21006300
    425	21006300
    426	8402520
    427	12603780
    428	16805040
    430	12603780
    431	12603780
    432	33610080
    433	8402520
    434	25207560
    435	16805040
    436	21006300
    437	25207560
    438	29408820
    439	8402520
    440	16805040
    441	16805040
    442	21006300
    443	16805040
    444	29408820
    445	16805040
    446	16805040
    447	12603780
    448	25207560
    449	25207560
    450	29408820
    451	12603780
    452	33610080
    453	21006300
    454	16805040
    455	21006300
    456	29408820
    457	16805040
    458	46213860
    459	21006300
    460	8402520
    461	4201260
    462	33610080
    463	25207560
    464	21006300
    465	25207560
    466	16805040
    467	29408820
    468	12603780
    469	50415120
    470	21006300
    471	42012600
    472	37811340
    473	8402520
    474	25207560
    475	29408820
    476	37811340
    477	37811340
    478	50415120
    479	16805040
    480	21006300
    481	25207560
    482	12603780
    483	16805040
    484	16805040
    485	46213860
    486	8402520
    487	21006300
    488	8402520
    489	12603780
    490	21006300
    491	37811340
    493	16805040
    494	29408820
    495	25207560
    496	4201260
    497	16805040
    498	16805040
    499	29408820
    500	25207560
    501	16805040
    502	8402520
    503	25207560
    504	12603780
    505	21006300
    506	16805040
    507	8402520
    508	46213860
    509	21006300
    510	21006300
    511	25207560
    512	8402520
    513	33610080
    514	21006300
    515	8402520
    516	8402520
    517	12603780
    518	16805040
    519	33610080
    521	8402520
    522	12603780
    523	21006300
    524	12603780
    525	21006300
    526	16805040
    527	16805040
    528	4201260
    529	16805040
    531	16805040
    532	4201260
    533	21006300
    534	16805040
    535	16805040
    536	8402520
    537	12603780
    538	4201260
    539	12603780
    540	16805040
    541	21006300
    542	8402520
    543	4201260
    544	8402520
    546	4201260
    547	12603780
    548	4201260
    549	16805040
    551	4201260
    552	4201260
    554	4201260
    555	4201260
    556	8402520
    558	16805040
    561	4201260
    564	8402520
    565	8402520
    566	8402520
    567	8402520
    568	4201260
    571	4201260
    572	4201260
    574	8402520
    575	8402520
    578	4201260
    580	4201260
    581	4201260
    582	12603780
    583	4201260
    584	8402520
    585	8402520
    586	4201260
    588	4201260
    589	4201260
    591	4201260
    592	8402520
    595	8402520
    597	4201260
    599	8402520
    600	8402520
    603	4201260
    605	8402520
    614	4201260
    618	4201260
    624	4201260
    627	4201260
    629	4201260
    630	4201260
    632	4201260
    635	4201260
    636	4201260
    640	4201260
    644	4201260
    647	8402520
    648	4201260
    651	8402520
    652	4201260
    657	8402520
    660	4201260
    662	8402520
    665	4201260
    669	8402520
    674	4201260
    677	4201260
    680	4201260
    681	4201260
    682	4201260
    683	4201260
    688	4201260
    690	4201260
    691	4201260
    694	4201260
    702	4201260
    707	4201260
    709	8402520
    710	4201260
    714	4201260
    715	4201260
    718	4201260
    727	4201260
    728	4201260
    729	4201260
    748	4201260
    755	4201260
    780	4201260
    797	4201260
    798	4201260
    801	4201260
    812	4201260
    826	4201260
    827	4201260
    829	4201260
    843	4201260
    845	4201260
    848	4201260
    849	4201260
    866	4201260
    873	4201260
    878	4201260
    895	4201260
    899	4201260
    908	4201260
    916	4201260
    923	4201260
    926	4201260
    967	4201260
    1010	4201260
    1011	4201260
    1028	4201260
    1049	4201260
    1061	4201260
    1062	4201260
    1067	4201260
    1089	4201260
    1103	4201260
    1157	4201260
    1182	4201260
    1199	4201260
    1221	4201260
    1259	4201260
    1342	4201260
    1363	4201260
    1389	4201260
    1395	4201260
    1403	4201260
    1476	4201260
    1503	4201260
    1581	4201260
    1592	4201260
    1599	4201260
    1600	4201260
    1644	4201260
    1798	4201260
    1839	4201260
    2786	4201260
"""

latency_kmem_str = """
    Latency	Loads
    6	30496946340
    7	364955053680
    8	29207159520
    9	15191756160
    11	16805040
    12	2936680740
    13	638591520
    14	3390416820
    15	1655296440
    16	2613183720
    17	655396560
    18	348704580
    19	428528520
    20	277283160
    21	415924740
    22	268880640
    23	260478120
    24	151245360
    25	361308360
    26	205861740
    27	113434020
    28	147044100
    29	88226460
    30	134440320
    31	92427720
    32	96628980
    33	113434020
    34	88226460
    35	159647880
    36	109232760
    37	109232760
    38	92427720
    39	126037800
    40	151245360
    41	130239060
    42	126037800
    43	126037800
    44	113434020
    45	71421420
    46	50415120
    47	50415120
    48	67220160
    49	50415120
    50	67220160
    51	58817640
    52	21006300
    53	42012600
    54	29408820
    55	29408820
    56	37811340
    57	50415120
    58	42012600
    59	33610080
    60	37811340
    61	46213860
    62	75622680
    63	50415120
    64	54616380
    65	75622680
    66	121836540
    67	109232760
    68	88226460
    69	79823940
    70	63018900
    71	25207560
    72	37811340
    73	42012600
    74	25207560
    75	29408820
    76	29408820
    77	42012600
    78	46213860
    79	33610080
    80	37811340
    81	37811340
    82	21006300
    83	29408820
    84	29408820
    85	12603780
    86	33610080
    87	33610080
    88	50415120
    89	12603780
    90	25207560
    91	46213860
    92	25207560
    93	29408820
    94	8402520
    95	21006300
    96	29408820
    97	21006300
    98	16805040
    99	33610080
    100	25207560
    101	8402520
    102	8402520
    103	8402520
    104	12603780
    105	33610080
    106	16805040
    107	21006300
    108	16805040
    109	8402520
    110	12603780
    111	12603780
    112	16805040
    113	16805040
    114	4201260
    115	16805040
    116	16805040
    117	12603780
    118	4201260
    119	21006300
    120	12603780
    121	21006300
    122	4201260
    123	12603780
    124	4201260
    125	8402520
    126	8402520
    127	12603780
    128	12603780
    129	8402520
    130	8402520
    131	21006300
    132	21006300
    133	16805040
    134	12603780
    135	8402520
    136	12603780
    137	12603780
    138	16805040
    139	21006300
    140	16805040
    141	25207560
    142	29408820
    143	4201260
    144	25207560
    145	21006300
    146	16805040
    147	12603780
    149	12603780
    150	8402520
    151	33610080
    152	16805040
    153	21006300
    154	12603780
    155	29408820
    156	4201260
    157	21006300
    158	12603780
    159	12603780
    160	4201260
    161	37811340
    162	12603780
    163	12603780
    164	16805040
    165	4201260
    166	8402520
    167	8402520
    168	12603780
    169	8402520
    170	4201260
    171	29408820
    172	16805040
    173	8402520
    174	42012600
    175	16805040
    176	21006300
    177	25207560
    178	8402520
    179	16805040
    180	8402520
    181	4201260
    182	16805040
    183	16805040
    184	4201260
    185	21006300
    186	29408820
    187	4201260
    188	16805040
    189	8402520
    190	25207560
    191	25207560
    192	8402520
    193	12603780
    194	8402520
    195	8402520
    196	16805040
    197	12603780
    198	8402520
    199	8402520
    200	8402520
    201	16805040
    202	4201260
    203	29408820
    204	4201260
    205	8402520
    206	16805040
    207	4201260
    208	16805040
    209	16805040
    210	4201260
    211	12603780
    212	8402520
    213	8402520
    214	4201260
    215	4201260
    216	12603780
    217	16805040
    218	4201260
    219	16805040
    220	8402520
    223	4201260
    224	8402520
    225	4201260
    226	8402520
    227	8402520
    228	4201260
    229	4201260
    230	4201260
    231	8402520
    232	4201260
    233	12603780
    234	12603780
    235	4201260
    236	4201260
    238	4201260
    239	16805040
    241	12603780
    242	21006300
    243	8402520
    244	21006300
    245	12603780
    246	8402520
    247	21006300
    248	8402520
    249	16805040
    250	25207560
    251	21006300
    252	21006300
    253	16805040
    254	8402520
    255	4201260
    256	16805040
    257	25207560
    258	12603780
    259	21006300
    260	16805040
    261	8402520
    262	33610080
    263	16805040
    264	21006300
    265	12603780
    266	4201260
    267	29408820
    268	12603780
    269	21006300
    270	4201260
    271	21006300
    272	16805040
    273	21006300
    274	25207560
    275	42012600
    276	16805040
    277	16805040
    278	29408820
    279	16805040
    280	21006300
    281	16805040
    282	42012600
    283	4201260
    284	29408820
    285	16805040
    286	16805040
    287	8402520
    288	8402520
    289	16805040
    290	12603780
    291	8402520
    292	12603780
    293	29408820
    294	25207560
    295	12603780
    296	16805040
    297	12603780
    298	8402520
    300	12603780
    301	25207560
    302	4201260
    303	25207560
    304	8402520
    305	12603780
    307	12603780
    308	29408820
    309	8402520
    310	12603780
    311	4201260
    314	8402520
    315	8402520
    317	8402520
    318	4201260
    319	4201260
    320	8402520
    321	4201260
    322	12603780
    323	8402520
    324	4201260
    326	4201260
    327	4201260
    328	4201260
    329	12603780
    330	12603780
    331	8402520
    332	12603780
    333	8402520
    335	8402520
    339	4201260
    343	12603780
    344	16805040
    345	4201260
    346	4201260
    347	4201260
    348	4201260
    349	4201260
    350	4201260
    351	4201260
    353	4201260
    354	12603780
    360	4201260
    361	4201260
    362	4201260
    366	4201260
    368	4201260
    372	8402520
    373	4201260
    374	4201260
    375	16805040
    376	4201260
    377	4201260
    378	12603780
    380	4201260
    381	4201260
    382	4201260
    384	8402520
    386	8402520
    387	8402520
    388	8402520
    389	8402520
    391	8402520
    392	4201260
    395	4201260
    396	21006300
    397	8402520
    398	8402520
    399	4201260
    401	4201260
    402	4201260
    403	4201260
    404	8402520
    407	4201260
    408	4201260
    409	8402520
    410	16805040
    411	8402520
    412	8402520
    413	4201260
    414	12603780
    415	4201260
    416	12603780
    417	16805040
    418	12603780
    419	12603780
    420	16805040
    421	25207560
    422	8402520
    423	29408820
    424	4201260
    425	8402520
    426	8402520
    427	16805040
    428	4201260
    429	16805040
    430	12603780
    431	12603780
    432	25207560
    433	16805040
    434	8402520
    435	25207560
    436	16805040
    437	16805040
    438	12603780
    439	8402520
    440	12603780
    441	12603780
    442	29408820
    443	37811340
    444	12603780
    445	16805040
    446	25207560
    447	16805040
    448	21006300
    449	33610080
    450	29408820
    451	29408820
    452	37811340
    453	33610080
    454	16805040
    455	21006300
    456	29408820
    457	21006300
    458	29408820
    459	21006300
    460	12603780
    461	16805040
    462	33610080
    463	50415120
    464	12603780
    465	33610080
    466	16805040
    467	21006300
    468	42012600
    469	12603780
    470	42012600
    471	33610080
    472	16805040
    473	16805040
    474	29408820
    475	29408820
    476	29408820
    477	33610080
    478	21006300
    479	12603780
    480	29408820
    481	8402520
    482	25207560
    483	54616380
    484	29408820
    485	21006300
    486	12603780
    487	16805040
    488	8402520
    489	4201260
    490	25207560
    491	29408820
    492	25207560
    493	16805040
    494	4201260
    495	16805040
    496	12603780
    497	16805040
    498	25207560
    499	12603780
    500	12603780
    501	4201260
    502	16805040
    503	16805040
    504	4201260
    505	21006300
    506	12603780
    507	16805040
    508	16805040
    509	8402520
    510	8402520
    511	8402520
    512	8402520
    513	16805040
    514	8402520
    515	8402520
    516	12603780
    517	29408820
    518	16805040
    519	8402520
    520	4201260
    522	8402520
    524	16805040
    525	16805040
    526	16805040
    527	21006300
    528	4201260
    529	4201260
    530	12603780
    531	8402520
    532	4201260
    536	12603780
    537	8402520
    538	4201260
    539	16805040
    540	12603780
    542	8402520
    543	4201260
    544	8402520
    545	4201260
    546	16805040
    549	8402520
    550	8402520
    551	4201260
    555	4201260
    556	8402520
    557	8402520
    558	4201260
    559	8402520
    560	4201260
    562	4201260
    564	8402520
    566	12603780
    571	4201260
    577	8402520
    578	4201260
    584	8402520
    585	4201260
    586	4201260
    588	8402520
    589	4201260
    592	8402520
    593	8402520
    595	4201260
    596	4201260
    600	4201260
    601	8402520
    602	4201260
    603	4201260
    604	4201260
    613	4201260
    618	8402520
    619	4201260
    621	4201260
    622	4201260
    628	4201260
    631	4201260
    633	4201260
    645	4201260
    655	4201260
    667	4201260
    672	4201260
    675	4201260
    677	4201260
    683	4201260
    684	4201260
    689	4201260
    694	4201260
    697	8402520
    699	4201260
    700	4201260
    702	4201260
    727	4201260
    731	4201260
    743	4201260
    751	4201260
    757	4201260
    758	4201260
    768	4201260
    774	4201260
    785	4201260
    787	4201260
    804	4201260
    813	4201260
    818	4201260
    820	4201260
    822	4201260
    832	4201260
    850	4201260
    860	4201260
    876	4201260
    894	4201260
    902	4201260
    910	4201260
    929	4201260
    937	4201260
    959	8402520
    966	4201260
    970	4201260
    980	4201260
    990	4201260
    993	4201260
    1002	4201260
    1016	8402520
    1018	4201260
    1034	4201260
    1047	4201260
    1067	4201260
    1088	4201260
    1158	4201260
    1171	4201260
    1172	4201260
    1239	4201260
    1253	4201260
    1287	4201260
    1297	4201260
    1312	4201260
    1336	4201260
    1337	4201260
    1382	4201260
    1395	4201260
    1421	4201260
    1423	4201260
    1466	4201260
    1474	4201260
    1513	8402520
    1534	4201260
    1556	4201260
    1590	4201260
    1610	4201260
    1665	4201260
    1687	4201260
    2186	4201260
    2601	4201260
    2676	4201260
    3182	4201260
"""


#-------------------------------------------------------
# Create DataFrames
#-------------------------------------------------------

bw_data_nmL =  ['dram', 'pmem', 'kmem']
bw_data_strL = [ dramBw_dram_str, dramBw_pmem_str, dramBw_kmem_str ]

(bw_dfrm_hist, bw_dfrm_wide) = makeDataFrames(bw_data_nmL, bw_data_strL)

lat_data_nmL =  ['dram', 'pmem', 'kmem']
lat_data_strL = [ latency_dram_str, latency_pmem_str, latency_kmem_str ]

(lat_dfrm_hist, lat_dfrm_wide) = makeDataFrames(lat_data_nmL, lat_data_strL)
#                                                scale = 1000000.0)

# print(bw_dfrm_hist)
# print(bw_dfrm_wide)

#-------------------------------------------------------
# Plot
#-------------------------------------------------------

fig, axes = pyplt.subplots(ncols=2, figsize=(15, 4))

ax = seaborn.violinplot(data=bw_dfrm_wide, ax=axes[0], cut = 0,
                          palette='muted', scale = 'area', inner = 'box')
ax.set_title('friendster, DRAM BW (GB/s)')


# *** Latency medians do not match VTune's average ***
ax = seaborn.violinplot(data=lat_dfrm_wide, ax=axes[1], cut = 0,
                          palette='muted', scale = 'area', inner = 'box')
ax.set_title('friendster, Load Latency (cycles)')

ax.set_ylim(0, 40)

#seaborn.plt.show()
pyplt.show()


# clueweb12
# uk2014

